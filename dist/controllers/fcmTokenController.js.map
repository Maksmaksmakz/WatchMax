{"version":3,"sources":["../../src/controllers/fcmTokenController.js"],"names":["router","Router","post","req","res","console","log","token","body","save","err","send","json","message","get","find","tokens","status","module","exports"],"mappings":";;AAAA;;;;AAEA;;;;AAEA;;;;;;AAHA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;;AAKA;AACAD,OAAOE,IAAP,CAAY,GAAZ,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7BC,UAAQC,GAAR,CAAY,0BAAZ;AACA,MAAMC,QAAQ,wBAAd;AACAA,QAAMA,KAAN,GAAcJ,IAAIK,IAAJ,CAASD,KAAvB;;AAEAA,QAAME,IAAN,CAAW,eAAO;AAChB,QAAGC,GAAH,EAAO;AACLN,UAAIO,IAAJ,CAASD,GAAT;AACD;AACDN,QAAIQ,IAAJ,CAAS,EAACC,SAAS,eAAV,EAAT;AACD,GALD;AAMD,CAXD;;AAaA;AACAb,OAAOc,GAAP,CAAW,GAAX,EAAgB,UAACX,GAAD,EAAMC,GAAN,EAAc;AAC5BC,UAAQC,GAAR,CAAY,yBAAZ;AACA,qBAASS,IAAT,CAAc,EAAd,EAAkB,UAACL,GAAD,EAAMM,MAAN,EAAiB;AACjC,QAAGN,GAAH,EAAO;AACLN,UAAIa,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,8BAAgDD,GAAhD;AACA;AACD;AACDN,QAAIQ,IAAJ,CAASI,MAAT;AACD,GAND;AAOD,CATD;;AAWAE,OAAOC,OAAP,GAAiBnB,MAAjB","file":"fcmTokenController.js","sourcesContent":["import express from \"express\"\nconst router = express.Router()\nimport bodyParser from \"body-parser\"\n\nimport FcmToken from \"../models/fcmToken\"\n\n// POST \"api/v1/fcmToken\" - Create token\nrouter.post(\"/\", (req, res) => {\n  console.log(\"post request to FcmToken\")\n  const token = new FcmToken()\n  token.token = req.body.token\n\n  token.save(err => {\n    if(err){\n      res.send(err)\n    }\n    res.json({message: \"token created\"})\n  })\n})\n\n// GET \"api/v1/fcmToken\" - Get tokens\nrouter.get(\"/\", (req, res) => {\n  console.log(\"get request to metaData\")\n  FcmToken.find({}, (err, tokens) => {\n    if(err){\n      res.status(500).send(`Couldn get users Error: ${err}`)\n      return\n    }\n    res.json(tokens)\n  })\n})\n\nmodule.exports = router\n"]}