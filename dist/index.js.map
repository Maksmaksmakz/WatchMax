{"version":3,"sources":["../src/index.js"],"names":["app","server","createServer","use","json","limit","bodyLimit","listen","port","console","log","address","url","process","env","NODE_ENV","mongoUrlDev","mongoUrlProd","connect","err","error"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAEA;AACAA,IAAIG,GAAJ,CAAQ,qBAAWC,IAAX,CAAgB;AACtBC,WAAO,iBAAOC;AADQ,CAAhB,CAAR;;AAIAN,IAAIG,GAAJ,CAAQ,eAAR;AACAH,IAAIG,GAAJ,CAAQ,kBAAR;AACAH,IAAIG,GAAJ,CAAQ,uBAAR;;AAEA;AACAH,IAAIC,MAAJ,CAAWM,MAAX,CAAkB,iBAAOC,IAAzB;AACAC,QAAQC,GAAR,2BAAoCV,IAAIC,MAAJ,CAAWU,OAAX,GAAqBH,IAAzD;;AAEA,IAAMI,MAAMC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyC,iBAAOC,WAAhD,GAA8D,iBAAOC,YAAjF;;AAEA,mBAASC,OAAT,CAAiBN,GAAjB,EAAsB,UAACO,GAAD,EAAS;AAC3B,QAAIA,GAAJ,EACI,OAAOV,QAAQW,KAAR,CAAcD,GAAd,CAAP;AACJV,YAAQC,GAAR,4BAAqCE,GAArC;AACH,CAJD;;kBAMeZ,G","file":"index.js","sourcesContent":["import http from \"http\"\nimport express from \"express\"\nimport bodyParser from \"body-parser\"\nimport mongoose from \"mongoose\"\n\nimport config from \"./config\"\nimport userController from \"./controllers/userController\"\nimport metaDataController from \"./controllers/metaDataController\"\nimport fcmTokenController from \"./controllers/fcmTokenController\"\n\nconst app = express()\napp.server = http.createServer(app)\n\n//middleware\napp.use(bodyParser.json({\n  limit: config.bodyLimit\n}))\n\napp.use(\"/api/v1/users\", userController)\napp.use(\"/api/v1/metaData\", metaDataController)\napp.use(\"/api/v1/firebaseToken\", fcmTokenController)\n\n//v1 routes\napp.server.listen(config.port)\nconsole.log(`server listening on: ${app.server.address().port}`)\n\nconst url = process.env.NODE_ENV === \"development\" ? config.mongoUrlDev : config.mongoUrlProd\n\nmongoose.connect(url, (err) => {\n    if (err)\n        return console.error(err);\n    console.log(`mongoose connected to ${url}`)\n});\n\nexport default app\n"]}